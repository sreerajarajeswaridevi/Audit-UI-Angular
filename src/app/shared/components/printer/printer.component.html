<button #buttonRef [style.display]="hidden ? 'none': ''" (click)="triggerPrint()">
    <span>{{text}}</span>
    <mdb-icon fas icon="print" class="float-left fa-lg mr-2" alt="no data"></mdb-icon>
</button>

<div class="content">

    <div class="main-copy" #bill>
		<header>
			<img class="icon" [src]="temple.icon" alt="">
            <div class="text">
                <h3 class="temple-name">{{temple.temple_name}}</h3>
                <span class="manthram" *ngIf="temple?.misc?.manthram">{{temple?.misc?.manthram}}</span>
                <span class="address">{{temple.temple_address}}</span>
                <span class="phone">Phone : {{temple.phone_number}}</span>
            </div>
		</header>
        
        <!-- pooja...----------------- -->
        <body *ngIf="type === 'pooja' && poojas">
            
            <div class="title"><span>{{poojas[0]?.pooja_name}}</span></div>
            <div class="date-receipt">
                <span>Date : <span class="db" appDateTransform [date]="poojas[0].pooja_date" [format]="'DD-MM-YYYY'"></span></span>
                <span *ngIf="poojas[0]?.receipt_number" class="db bt-gray">Receipt No: <span >{{poojas[0]?.receipt_number}}</span></span>
            </div>
            <br>
            <div class="details">
                <div class="content">
                    <div class="row" *ngIf="poojas[0]?.address">
                        <span class="label">Address :</span> 
                        <span class="value">{{poojas[0]?.address}}</span>
                    </div>
                    <div class="row"  *ngIf="poojas[0]?.phone_number">
                        <span class="label">Phone Number :</span>
                        <span class="value">{{poojas[0]?.phone_number}}</span>
                    </div>
                   
                    <table class="pooja-table" *ngIf="size !== 'bill'">
                        <thead style="background-color: whitesmoke; padding: 10px;">
                    
                            <tr style="font-weight: bold;">
                                <td>Name</td>
                                <td>Nakshatram</td>
                                <td>Amount</td>
                            </tr>
                        </thead>
                        <tbody *ngFor="let pooja of poojas" style="border-bottom: 1px dotted black">
                            <tr>
                                <td>{{pooja?.name}}</td>
                                <td>{{pooja?.nakshatram}}</td>
                                <td>&#x20B9; {{pooja?.pooja_price}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr style="border-bottom: 1px dashed black; margin-top: 10px; background-color: whitesmoke;">
                                <td colspan="2" style="font-weight: bold;"><b>Total Amount</b></td>
                                <td style="font-weight: bold;"><b>&#x20B9; {{getTotalPrice(poojas,
                                        'pooja_price')}}</b></td>
                            </tr>
                        </tfoot>
                    </table>
                    <div *ngIf="size === 'bill'">
                        <div *ngFor="let pooja of poojas" class="row-container">
                            <div class="row">
                                <span class="label">Name :</span>
                                <span class="value">{{pooja?.name}}</span>
                            </div>
                            <div class="row">
                                <span class="label">Nakshatram :</span>
                                <span class="value">{{pooja?.nakshatram}}</span>
                            </div>
                            <div class="row">
                                <span class="label">Amount :</span> 
                                <span class="value">{{pooja?.pooja_price}}</span>
                            </div>
                        </div>
                        <table class="pooja-table">
                            <tfoot>
                                <tr style="border-bottom: 1px dashed black; margin-top: 10px; background-color: whitesmoke;">
                                    <td colspan="2" style=" font-weight: bold;"><b>Total Amount</b></td>
                                    <td style=" font-weight: bold;"><b>&#x20B9; {{getTotalPrice(poojas,
                                            'pooja_price')}}</b></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </body>

        <!-- expense_---------------------- -->
        <body *ngIf="type === 'expense' && expense">
              
                <div class="title"><span>Expense Receipt</span></div>
                <div class="date-receipt">
                    <span>Date : {{expense.expense_date}}</span>
                    <span class="bt-gray">Receipt No : {{expense?.receipt_number}}</span>
                </div>
                <br>
                <div class="details">
                    <div class="content">
                        <div class="row">
                            <span class="label">Item :</span>
                            <span class="value">{{expense.item}}</span>
                        </div>
                        <div class="row">
                            <span class="label">Cost :</span>
                            <span class="value">₹{{expense.cost}}</span>
                        </div>
                        <div class="row" *ngIf="expense.description">
                            <span class="label">Notes :</span>
                            <span class="value">{{expense.description}}</span>
                        </div>
                        <table class="total-amount">
                            <tr
                                style="border-bottom: 1px dashed black; margin-top: 10px; background-color: whitesmoke;">
                                <td style=" font-weight: bold;"><b>Total
                                        Amount</b></td>
                                <td style=" font-weight: bold;"><b>₹
                                        {{expense.cost}}</b></td>
                            </tr>
                        </table>
        
                    </div>
                </div>
        
        </body>


        <!-- DONATION---------------------- -->
        <body *ngIf="type === 'donation' && donation">
              
                <div class="title"><span>Donation Receipt</span></div>
                <div class="date-receipt">
                    <span>Date : {{donation.donation_date}}</span>
                    <span class="bt-gray">Receipt No : {{donation?.receipt_number}}</span>
                </div>
                <br>
                <div class="details">
                    <div class="content">
                        <div class="row">
                            <span class="label">Name :</span>
                            <span class="value">{{donation.name}}</span>
                        </div>
                        <div class="row">
                            <span class="label">Nakshathram :</span>
                            <span class="value">{{donation.nakshatram}}</span>
                        </div>
                        <div class="row">
                            <span class="label">Address :</span>
                            <span class="value">{{donation.address}}</span>
                        </div>
                        
                        <div class="row">
                            <span class="label">Phone Number :</span>
                            <span class="value">{{donation.phone_number}}</span>
                        </div>
                        <div class="row">
                            <span class="label">Amount Received :</span>
                            <span class="value">₹{{donation.amount}}</span>
                        </div>
                        <table class="total-amount">
                            <tr
                                style="border-bottom: 1px dashed black; margin-top: 10px; background-color: whitesmoke;">
                                <td style=" font-weight: bold;"><b>Total
                                        Amount</b></td>
                                <td style=" font-weight: bold;"><b>₹
                                        {{donation.amount}}</b></td>
                            </tr>
                        </table>
        
                    </div>
                </div>
        
        </body>

        <!-- REPORT--------------------- -->

        <body *ngIf="type === 'report' && reports" class="report">
            <div class="title"><span>Expense Receipt</span></div>
            <p>period : {{reportPeriod}}</p>
          <br>
            <section *ngFor="let report of reports">
                <p style="font-weight: bold;padding-bottom: 10px; border-bottom: 1px solid dimgray;">Date:
                    <b>{{report.date}}</b>
                </p>
                <table *ngIf="report?.poojas.length">
                    <p class="heading">Poojas</p>
                    <tr><br><br></tr>
                    <tbody style="border: 1px dotted black">
                        <tr>
                            <td style="font-weight: bold;">Date</td>
                            <td style="font-weight: bold;">Pooja Name</td>
                            <td style="font-weight: bold;">Person Name</td>
                            <td style="font-weight: bold;">Nakshathram</td>
                            <td style="font-weight: bold;">Phone</td>
                            <td style="font-weight: bold;">Amount</td>
                        </tr>
                        <tr *ngFor="let pooja of report.poojas">
                            <td>{{pooja.pooja_date}}</td>
                            <td>{{pooja.pooja_name}}</td>
                            <td>{{pooja.name}}</td>
                            <td>{{pooja.nakshatram}}</td>
                            <td>{{pooja.phone_number}}</td>
                            <td><b>&#x20B9; {{pooja.pooja_price}}</b></td>
                        </tr>
                        <tr>
                            <td colspan="5" style="font-weight: bold;">Total Amount</td>
                            <td><b>&#x20B9; {{getTotalPrice(report.poojas, 'pooja_price')}}</b></td>
                        </tr>
                    </tbody>
                </table>
                <br><br>
                <table *ngIf="report?.expenses.length">
                    <p class="heading">Expenses</p>
                    <tr><br></tr>
                    <tbody style="border: 1px dotted black">
                        <tr>
                            <td style="font-weight: bold;">Date</td>
                            <td style="font-weight: bold;">Item</td>
                            <td style="font-weight: bold;">Description</td>
                            <td style="font-weight: bold;">Added By</td>
                            <td style="font-weight: bold;">Amount</td>
                        </tr>
                        <tr *ngFor="let expense of report.expenses">
                            <td>{{expense.expense_date}}</td>
                            <td>{{expense.item}}</td>
                            <td>{{expense.description}}</td>
                            <td>{{expense.added_by}}</td>
                            <td><b>&#x20B9; {{expense.cost}}</b></td>
                        </tr>
                        <tr>
                            <td colspan="4" style="font-weight: bold;">Total Expense</td>
                            <td><b>&#x20B9; {{getTotalPrice(report.expenses, 'cost')}}</b></td>
                        </tr>
                    </tbody>
                </table>
                <br><br>

                <table *ngIf="report?.donations.length">
                    <p class="heading">Donations</p>
                    <br>
                    <tbody style="border: 1px dotted black">
                        <tr>
                            <td style="font-weight: bold;">Date</td>
                            <td style="font-weight: bold;">Name</td>
                            <td style="font-weight: bold;">Nakshatram</td>
                            <td style="font-weight: bold;">Phone Number</td>
                            <td style="font-weight: bold;">Address</td>
                            <td style="font-weight: bold;">Added By</td>
                            <td style="font-weight: bold;">Amount</td>
                        </tr>
                        <tr *ngFor="let expense of report.donations">
                            <td>{{expense.donation_date}}</td>
                            <td>{{expense.name}}</td>
                            <td>{{expense.nakshatram}}</td>
                            <td>{{expense.phone_number}}</td>
                            <td>{{expense.address}}</td>
                            <td>{{expense.added_by}}</td>
                            <td><b>&#x20B9; {{expense.amount}}</b></td>
                        </tr>
                        <tr>
                            <td colspan="6" style="font-weight: bold;">Total Donations</td>
                            <td><b>&#x20B9; {{getTotalPrice(report.donations, 'amount')}}</b></td>
                        </tr>
                    </tbody>
                    <br><br>
                </table>
            </section>
            <div>
                <br><br>
                <footer>
                    Generated Date:
                    {{getCurrentDate()}}
                </footer>
            </div>

        </body>

        <footer>
            <table class="notes">
                <tr>
                    <td>Billed By : {{temple.displayName}}</td>
                </tr>
                <tr>
                    <td></td>
                    <td style="float: right; border-top: 1px dashed black;">Authorized Signature</td>
                </tr>
            </table>
            <br>
            <div class="footer">
                <div class="content">
                    <span>Thank you. Please contact {{temple.phone_number}} or email us at {{temple.email}} for any queries/bookings</span>
                </div>
            </div>
        </footer>

	</div>

    
</div>